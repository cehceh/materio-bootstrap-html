{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% load widget_tweaks %}
{% block content %}
<!-- Page content -->
<div class="container-fluid mt--6" id="unitNameTable">
    <div class="row">
        <div class="col-xl-12 order-xl-1">
        <!-- <div class="col-12"> -->
            {% include 'configurations/unit_names/includes/buttons/table_div_buttons.html' %}
        </div>
        <div class="col-xl-12 order-xl-2" v-show="showLog">
            <div class="card">
                <div class="card-header">
                    <div class="card-tools">
                        <!-- <form method="GET" action=".">
                            
                        </form> -->
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="card-body table-responsive p-0">
                                <table id="log-table" class="table text-nowrap">
                                    <thead v-show="showLog">
                                        <tr>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "ID" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Code" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Creator" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Created at" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Updator" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Updated at" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Unit Name" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Tools" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody v-show="showLog">
                                        {% for obj in table_total_qs %}
                                        <tr class="text-center">
                                            <td style="height: 1px;">{{obj.id}}</td>
                                            <td style="height: 1px;">{{obj.code}}</td>
                                            <td style="height: 1px;">{{obj.user}}</td>
                                            <td style="height: 1px;">{{obj.updated_user}}</td>
                                            <td style="height: 1px;">{{obj.created_at}}</td>
                                            <td style="height: 1px;">{{obj.updated_at}}</td>
                                            <td style="height: 1px;">{{obj.name}}</td>
                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>&nbsp;
                                                <a href="{% url 'configurations:edit_unit_names' id=obj.id %}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <!-- <a href="{% url 'switch_delete' obj.id 'configurations' 'UnitNames' %}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you will delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>&nbsp; -->
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END LOG TABLE -->
        <!-- START ACTIVE TABLE -->
        <div class="col-xl-12 order-xl-2" v-show="showActive">
            <div class="card">
                <div class="card-header">
                    <div class="card-tools">
                        <!-- <form method="GET" action="."> -->
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="card-body table-responsive p-0">
                                <table id="active-table" class="table text-nowrap">
                                    <thead v-show="showActive">
                                        <tr>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "ID" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Code" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Unit Name" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Status" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Tools" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody v-show="showActive">
                                        {% for obj in active_qs %}
                                        <tr class="text-center">
                                            <td style="height: 1px;">{{obj.id}}</td>
                                            <td style="height: 1px;">{{obj.code}}</td>
                                            <td style="height: 1px;">{{obj.name}}</td>
                                            <td style="height: 1px;">
                                                <!-- <a href="{% url 'switch_active' obj.id 'configurations' 'UnitNames' %}" onclick="return confirm('Are you sure ?')">
                                                    <i class="badge bg-gradient-green">Active</i>
                                                </a> -->
                                                <i class="badge bg-gradient-green">Active</i>
                                            </td>
                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>
                                                &nbsp;
                                                <a href="{% url 'configurations:edit_unit_names' obj.id %}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>
                                                &nbsp;
                                                <!-- <a href="{% url 'switch_delete' obj.id 'configurations' 'UnitNames' %}"  class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you will delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>
                                                &nbsp; -->
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- START DELEtE TABLE -->
        <div class="col-xl-12 order-xl-2" v-show="showDeleted">
            <div class="card">
                <div class="card-header">
                    
                    <div class="row">
                        <div class="col-12">
                        
                            <div class="card-body table-responsive p-0">
                                <table id="delete-table" class="table text-nowrap">
                                    <thead v-show="showDeleted">
                                        <tr >
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "ID" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Code" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Unit Name" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "User of Deletion" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Deleted at" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Status" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Tools" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody v-show="showDeleted">
                                        {% for obj in deleted_total_qs %}
                                        <tr class="text-center">
                                            <td style="height: 1px;">{{obj.id}}</td>
                                            <td style="height: 1px;">{{obj.code}}</td>
                                            <td style="height: 1px;">{{obj.updated_user}}</td>
                                            <td style="height: 1px;">{{obj.deleted_at}}</td>
                                            <td style="height: 1px;">{{obj.name}}</td>
                                            <td style="height: 1px;">
                                                {% if not obj.active %}
                                                <a href="{% url 'switch_active' obj.id 'configurations' 'UnitNames' %}" onclick="return confirm('Are you sure ?')">
                                                    <i class="badge bg-gradient-secondary">Inactive</i>
                                                </a>
                                                {% else %}
                                                <a href="{% url 'switch_active' obj.id 'configurations' 'UnitNames' %}" onclick="return confirm('Are you sure ?')">
                                                    <i class="badge bg-gradient-green">Active</i>
                                                </a> 
                                                {% endif %}
                                            </td>
                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>
                                                &nbsp;
                                                <a href="{% url 'configurations:edit_unit_names' obj.id %}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <!-- <a href="{% url 'switch_delete' obj.id 'configurations' 'UnitNames' %}"  class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you want to retsore this record ?')">
                                                    <span class="fas fa-undo-alt"></span>
                                                </a>
                                                &nbsp; -->
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                                &nbsp;
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- END DELETED TABLE -->

        <!-- START MAIN TABLE -->
        <div class="col-xl-12 order-xl-2" v-show="showMain">
            <div class="card">
                <div class="card-header">
                    
                    <div class="row">
                        <div class="col-12">
                        
                            <div class="card-body table-responsive p-0">
                                <table id="main-table" class="table text-nowrap">
                                    <thead v-show="showMain">
                                        <tr>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "ID" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Code" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Unit Name" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Tools" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody v-show="showMain">
                                        {% for obj in table_total_qs %}
                                        <tr class="text-center">
                                            <td style="height: 1px;">{{obj.id}}</td>
                                            <td style="height: 1px;">{{obj.code}}</td>
                                            <td style="height: 1px;">{{obj.name}}</td>
                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>&nbsp;
                                                <a href="{% url 'configurations:edit_unit_names' obj.id %}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <!-- <a href="{% url 'switch_delete' obj.id 'configurations' 'UnitNames' %}"  class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you will delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>&nbsp; -->
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>

            </div>
        </div>

        <!-- START INACTIVE TABLE -->
        <div class="col-xl-12 order-xl-2" v-show="inActive">
            <div class="card">
                <div class="card-header">
                    
                    <div class="row">
                        <div class="col-12">
                        
                            <div class="card-body table-responsive p-0">
                                <table id="inactive-table" class="table text-nowrap">
                                    <thead v-show="inActive">
                                        <tr>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "ID" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Code" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Unit Name" %}</th>
                                            <th  class="text-center bg-gradient-lightblue btn-xs">{% trans "Status" %}</th>
                                            <th class="text-center bg-gradient-lightblue btn-xs">{% trans "Tools" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody v-show="inActive">
                                        {% for obj in inactive_qs %}
                                        <tr class="text-center">
                                            <td style="height: 1px;">{{obj.id}}</td>
                                            <td style="height: 1px;">{{obj.code}}</td>
                                            <td style="height: 1px;">{{obj.name}}</td>
                                            <td style="height: 1px;">
                                                <!-- <a href="{% url 'switch_active' obj.id 'configurations' 'UnitNames'  %}" onclick="return confirm('Are you sure ?')">
                                                    <i class="badge bg-gradient-secondary">Inactive</i>
                                                </a> -->
                                                <i class="badge bg-gradient-secondary">Inactive</i>
                                            </td>
                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>&nbsp;
                                                <a href="{% url 'configurations:edit_unit_names' obj.id %}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <!-- <a href="{% url 'switch_delete' obj.id 'configurations' 'UnitNames' %}"  class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you will delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>&nbsp; -->
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>
    <!-- ./END ROW -->
</div>
{% endblock content %}
{% block javascripts %}
<script>
    const { createApp, ref, computed } = Vue;
    const vueTable = createApp({
        delimiters:["[[", "]]"],
        setup() {
            const msg = 'What is going on UNIT_NAMES-PAGE ?';
            const title = 'UNIT NAMES SETTINGS ';
            return {
                msg, title,
            }
        },
        data() {
            return {
                showDiv:false,
                showTable:false,
                showLog:false,
                showActive:false,
                showMain:false,
                showReport:false,
                showDeleted:false,
                inActive:false,
            };
        },
        computed:{

        },
        methods:{
            
        },
        mounted() {
            let me = this;

            $(document).ready(function(){
                $(document).on('click', '.show-log, .show-deleted, .in-active, .is-active, .show-main', function(e){
                    console.log('sHOWLOGGGG', me.showLog)
                    console.log('sHOWDELETED', me.showDeleted)
                    //$('#main-bank').DataTable().destroy();
                    let type = true;
                    if (me.showLog == type) {
                        me.showActive = false;
                        me.showDeleted = false;
                        me.showMain = false;
                        me.inActive = false;
                        console.log("SHOW LOG TRUE", me.showLog);
                    } else if (me.showDeleted == type) {
                        // If showDeleted is true, set it to false, showLog to false, and inActive to false
                        me.showLog = false;
                        me.showActive = false;
                        // me.showDeleted = false;
                        me.showMain = false;
                        me.inActive = false;
                        console.log("SHOW LOG FALSEE", me.showLog);
                    } else if (me.inActive == type) {
                        // If inActive is true, set showLog and showDeleted to false
                        me.showLog = false;
                        me.showActive = false;
                        me.showDeleted = false;
                        me.showMain = false;

                        console.log("inActive TRUE");
                    } else if (me.showActive === true){
                        me.showLog = false;
                        me.inActive = false;
                        me.showDeleted = false;
                        me.showMain = false;
                        console.log("ACTIVE TRUE")

                    } else if (me.showMain == true){
                        me.showLog = false;
                        me.inActive = false;
                        me.showDeleted = false;
                        me.showActive = false;
                        console.log("Main TRUE")
                    }

                    $.ajax({
                        type: 'GET',
                        url: '{% url "configurations:unit_names_table" %}',
                        data: {
                            'type': type,
                            'show-log': me.showLog,
                            'show-deleted': me.showDeleted,
                            'in-active':me.inActive,
                            'active':me.showActive,
                            'show-main':me.showMain,
                        },
                        success: function(data) {
                            // Your success handling code...
                            let url = function (id){
                                let path = "{% url 'configurations:edit_unit_names' id=0 %}".replace('0', id)
                                return path;
                            }

                            let switchStatus = (label) =>{
                                if(label === true){
                                    return '<i class="badge bg-gradient-green">Active</i>';
                                }
                                return '<i class="badge bg-gradient-secondary">Inactive</i>';

                            };
                            // APPEND DATA TO THE TABLE - WHAT IS HAPPEN
                            if (me.showMain){

                                let mainList = data['main-list'];
                                $("#main-table").DataTable().destroy();
                                $("#main-table tbody").empty();  // Clear existing rows
                                mainList.forEach((obj, index, array) => {
                                    let del_url = "{% url 'switch_delete' id=0 app_name='configurations' model='UnitNames' %}".replace("0", `${obj.id}`)
                                    $('#main-table tbody').append(`
                                        <tr class="text-center">
                                            <td style="height: 1px;">${obj.id}</td>
                                            <td style="height: 1px;">${obj.code}</td>
                                            <td style="height: 1px;">${obj.name}</td>
                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>
                                                &nbsp;
                                                <a href="${url(`${obj.id}`)}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <a href="${del_url}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you want to delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>
                                                &nbsp;
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                                &nbsp;
                                            </td>
                                        </tr>
                                    `);

                                });

                                let mainTable = $("#main-table").DataTable({
                                    // dom: 'Bfrtip',
                                    // paging: true,
                                    // searching: true,
                                    ordering: true,
                                    order: [[0, "desc"]],
                                    pagingType: 'full_numbers',
                                    // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
                                    "pageLength": 5,
                                    "responsive": true,
                                    "lengthChange": false,
                                    "autoWidth": false,
                                    "buttons": [
                                        {
                                            extend: 'print',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: 'excel',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: "colvis",
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                            ,
                                    ],
                                }).buttons().container().appendTo('#main-table_wrapper .col-md-6:eq(0)');
                            }
                            else if(me.showActive){
                                let activeList = data['active-list'];
                                // let TotalActive = data['total-active'];
                                $("#active-table").DataTable().destroy();
                                $("#active-table tbody").empty();  // Clear existing rows
                                activeList.forEach((obj, index, array) => {
                                    let del_url = "{% url 'switch_delete' id=0 app_name='configurations' model='UnitNames' %}".replace("0", `${obj.id}`)
                                    let status_url = "{% url 'switch_active' id=0 app_name='configurations' model_name='UnitNames' %}".replace("0", `${obj.id}`)
                                    $('#active-table tbody').append(`
                                        <tr class="text-center">
                                            <td style="height: 1px;">${obj.id}</td>
                                            <td style="height: 1px;">${obj.code}</td>
                                            <td style="height: 1px;">${obj.name}</td>
                                            <td style="height: 1px;">
                                                <a href="${status_url}" onclick="return confirm('Are you sure ?')">
                                                    <i class="badge bg-gradient-green">Active</i>
                                                </a> 
                                            </td>

                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>
                                                &nbsp;
                                                <a href="${url(`${obj.id}`)}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <a href="${del_url}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you want to delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>
                                                &nbsp;
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                                &nbsp;
                                            </td>
                                        </tr>
                                    `);

                                });
                                // FOR getting the version 
                                versionNo = $.fn.dataTable.version;
                                console.log('VERSION:::-->>> ', versionNo);
                                // Initialize the Datatable again
                                // $("#main-bank").DataTable();
                                $("#active-table").DataTable({
                                    // dom: 'Bfrtip',
                                    // paging: true,
                                    // searching: true,
                                    ordering: true,
                                    order: [[0, "desc"]],
                                    pagingType: 'full_numbers',
                                    // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
                                    "pageLength": 5,
                                    "responsive": true,
                                    "lengthChange": false,
                                    "autoWidth": false,
                                    "buttons": [
                                        {
                                            extend: 'print',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: 'excel',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: "colvis",
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                            ,
                                    ],
                                }).buttons().container().appendTo('#active-table_wrapper .col-md-6:eq(0)');
                            }
                            else if(me.inActive){
                                let inactiveList = data['inactive-list'];
                                $("#inactive-table").DataTable().destroy();
                                $("#inactive-table tbody").empty();  // Clear existing rows
                                inactiveList.forEach((obj, index, array) => {
                                    let del_url = "{% url 'switch_delete' id=0 app_name='configurations' model='UnitNames' %}".replace("0", `${obj.id}`)
                                    let status_url = "{% url 'switch_active' id=0 app_name='configurations' model_name='UnitNames' %}".replace("0", `${obj.id}`)
                                    $('#inactive-table tbody').append(`
                                        <tr class="text-center">
                                            <td style="height: 1px;">${obj.id}</td>
                                            <td style="height: 1px;">${obj.code}</td>
                                            <td style="height: 1px;">${obj.name}</td>
                                            <td style="height: 1px;">
                                                <a href="${status_url}" onclick="return confirm('Are you sure ?')">
                                                    <i class="badge bg-gradient-secondary">Inactive</i>
                                                </a> 
                                            </td>

                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>
                                                &nbsp;
                                                <a href="${url(`${obj.id}`)}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <a href="${del_url}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you want to delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>
                                                &nbsp;
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                                &nbsp;
                                            </td>
                                        </tr>
                                    `);

                                });
                                // FOR getting the version 
                                versionNo = $.fn.dataTable.version;
                                console.log('VERSION:::-->>> ', versionNo);
                                // Initialize the Datatable again
                                // $("#main-bank").DataTable();
                                $("#inactive-table").DataTable({
                                    // dom: 'Bfrtip',
                                    // paging: true,
                                    // searching: true,
                                    ordering: true,
                                    order: [[0, "desc"]],
                                    pagingType: 'full_numbers',
                                    // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
                                    "pageLength": 5,
                                    "responsive": true,
                                    "lengthChange": false,
                                    "autoWidth": false,
                                    "buttons": [
                                        {
                                            extend: 'print',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: 'excel',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: "colvis",
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                            ,
                                    ],
                                }).buttons().container().appendTo('#inactive-table_wrapper .col-md-6:eq(0)');
                            }
                            else if(me.showDeleted){
                                let deleteList = data['delete-list'];
                                $("#delete-table").DataTable().destroy();
                                $("#delete-table tbody").empty();  // Clear existing rows
                                deleteList.forEach((obj, index, array) => {
                                    let del_url = "{% url 'switch_delete' id=0 app_name='configurations' model='UnitNames' %}".replace("0", `${obj.id}`)
                                    let status_url = "{% url 'switch_active' id=0 app_name='configurations' model_name='UnitNames' %}".replace("0", `${obj.id}`)
                                    $('#delete-table tbody').append(`
                                        <tr class="text-center">
                                            <td style="height: 1px;">${obj.id}</td>
                                            <td style="height: 1px;">${obj.code}</td>
                                            <td style="height: 1px;">${obj.name}</td>
                                            <td style="height: 1px;">${obj.updated_user__username}</td>
                                            <td style="height: 1px;">${obj.deleted_at}</td>
                                            <td style="height: 1px;">
                                                <a href="${status_url}" onclick="return confirm('Are you sure ?')">
                                                    ${switchStatus(obj.active)}
                                                </a>
                                            </td>

                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>
                                                &nbsp;
                                                <a href="${url(`${obj.id}`)}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <a href="${del_url}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you want to retsore this record ?')">
                                                    <span class="fas fa-undo-alt"></span>
                                                </a>
                                                &nbsp;
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                                &nbsp;
                                            </td>
                                        </tr>
                                    `);

                                });
                                // FOR getting the version 
                                versionNo = $.fn.dataTable.version;
                                console.log('VERSION:::-->>> ', versionNo);
                                $("#delete-table").DataTable({
                                    ordering: true,
                                    order: [[0, "desc"]],
                                    pagingType: 'full_numbers',
                                    "pageLength": 5,
                                    "responsive": true,
                                    "lengthChange": false,
                                    "autoWidth": false,
                                    "buttons": [
                                        {
                                            extend: 'print',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: 'excel',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: "colvis",
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                            ,
                                    ],
                                }).buttons().container().appendTo('#delete-table_wrapper .col-md-6:eq(0)');
                            }
                            else if (me.showLog){
                                let logList = data['log-list'];
                                $("#log-table").DataTable().destroy();
                                $("#log-table tbody").empty();  // Clear existing rows
                                logList.forEach((obj, index, array) => {
                                    let del_url = "{% url 'switch_delete' id=0 app_name='configurations' model='UnitNames' %}".replace("0", `${obj.id}`)
                                    $('#log-table tbody').append(`
                                        <tr class="text-center">
                                            <td style="height: 1px;">${obj.id}</td>
                                            <td style="height: 1px;">${obj.code}</td>
                                            <td style="height: 1px;">${obj.user__username}</td>
                                            <td style="height: 1px;">${obj.created_at}</td>
                                            <td style="height: 1px;">${obj.updated_user__username}</td>
                                            <td style="height: 1px;">${obj.updated_at}</td>
                                            <td style="height: 1px;">${obj.name}</td>
                                            <td class="text-center" style="height: 1px;">
                                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="return confirm('Are you sure, you will print this record ?')">
                                                    <span class="fas fa-print"></span>
                                                </a>&nbsp;
                                                <a href="${url(`${obj.id}`)}" class="btn btn-outline-success btn-sm">
                                                    <span class="fas fa-edit"></span>
                                                </a>&nbsp;
                                                <a href="${del_url}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure, you want to delete this record ?')">
                                                    <span class="fas fa-trash-alt"></span>
                                                </a>
                                                &nbsp;
                                                <a href="#" class="btn btn-outline-info btn-sm">
                                                    <span class="fas fa-eye"></span>
                                                </a>
                                                &nbsp;
                                            </td>
                                        </tr>
                                    `);

                                });
                                // FOR getting the version 
                                versionNo = $.fn.dataTable.version;
                                console.log('VERSION:::-->>> ', versionNo);
                                // Initialize the Datatable again
                                // $("#main-bank").DataTable();
                                $("#log-table").DataTable({
                                    // dom: 'Bfrtip',
                                    // paging: true,
                                    // searching: true,
                                    ordering: true,
                                    order: [[0, "desc"]],
                                    pagingType: 'full_numbers',
                                    // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
                                    "pageLength": 5,
                                    "responsive": true,
                                    "lengthChange": false,
                                    "autoWidth": false,
                                    "buttons": [
                                        {
                                            extend: 'print',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: 'excel',
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                        {
                                            extend: "colvis",
                                            className:'bg-gradient-lightblue btn btn-sm',
                                            exportOptions: {
                                                columns: ':visible'
                                            }
                                        },
                                            ,
                                    ],
                                }).buttons().container().appendTo('#log-table_wrapper .col-md-6:eq(0)');
                            }

                        },
                        error: function() {
                            // Your error handling code...
                        }
                    });
                    e.preventDefault();
                });
            });






            //LOG DATA TABLE
            // $(function () {
            //     $("#unit-log-table").DataTable({
            //         // dom: 'Bfrtip',
            //         // paging: true,
            //         // searching: true,
            //         ordering: true,
            //         order: [[0, "desc"]],
            //         pagingType: 'full_numbers',
            //         // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
            //         "pageLength": 5,
            //         "responsive": true,
            //         "lengthChange": false,
            //         "autoWidth": false,
            //         "buttons": [
            //             {
            //                 extend: 'print',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: 'excel',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: "colvis",
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //                 ,
            //         ],
            //     }).buttons().container().appendTo('#unit-log-table_wrapper .col-md-6:eq(0)');
        
            // });


            // // UNIT NAME DATA TABLE
            // $(function () {
            //     $("#unit-name-table").DataTable({
            //         // dom: 'Bfrtip',
            //         // paging: true,
            //         // searching: true,
            //         ordering: true,
            //         order: [[0, "desc"]],
            //         pagingType: 'full_numbers',
            //         // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
            //         "pageLength": 5,
            //         "responsive": true,
            //         "lengthChange": false,
            //         "autoWidth": false,
            //         "buttons": [
            //             {
            //                 extend: 'print',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: 'excel',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: "colvis",
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //                 ,
            //         ],
            //     }).buttons().container().appendTo('#unit-name-table_wrapper .col-md-6:eq(0)');
        
            // });

        
            // // DELETED DATA TABLE
            // $(function () {
            //     $("#delete").DataTable({
            //         // dom: 'Bfrtip',
            //         // paging: true,
            //         // searching: true,
            //         ordering: true,
            //         order: [[0, "desc"]],
            //         pagingType: 'full_numbers',
            //         // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
            //         "pageLength": 5,
            //         "responsive": true,
            //         "lengthChange": false,
            //         "autoWidth": false,
            //         "buttons": [
            //             {
            //                 extend: 'print',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: 'excel',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: "colvis",
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //                 ,
            //         ],
            //     }).buttons().container().appendTo('#delete_wrapper .col-md-6:eq(0)');
        
            // });

            // // DELETED DATA TABLE
            // $(function () {
            //     $("#inactive").DataTable({
            //         // dom: 'Bfrtip',
            //         // paging: true,
            //         // searching: true,
            //         ordering: true,
            //         order: [[0, "desc"]],
            //         pagingType: 'full_numbers',
            //         // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
            //         "pageLength": 5,
            //         "responsive": true,
            //         "lengthChange": false,
            //         "autoWidth": false,
            //         "buttons": [
            //             {
            //                 extend: 'print',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: 'excel',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: "colvis",
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //                 ,
            //         ],
            //     }).buttons().container().appendTo('#inactive_wrapper .col-md-6:eq(0)');
        
            // });

            // $(function () {
            //     $("#main").DataTable({
            //         // dom: 'Bfrtip',
            //         // paging: true,
            //         // searching: true,
            //         ordering: true,
            //         order: [[0, "desc"]],
            //         pagingType: 'full_numbers',
            //         // "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
            //         "pageLength": 5,
            //         "responsive": true,
            //         "lengthChange": false,
            //         "autoWidth": false,
            //         "buttons": [
            //             {
            //                 extend: 'print',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: 'excel',
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //             {
            //                 extend: "colvis",
            //                 className:'bg-gradient-lightblue btn btn-sm',
            //                 exportOptions: {
            //                     columns: ':visible'
            //                 }
            //             },
            //                 ,
            //         ],
            //     }).buttons().container().appendTo('#main_wrapper .col-md-6:eq(0)');
        
            // });



        },

    });
    vueTable.mount("#unitNameTable")

    
</script>
{% endblock javascripts %}